<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>backbone-model</title>
</head>
<body>
	<script src="http://7xl0rs.com1.z0.glb.clouddn.com/backbone/jquery.min.js"></script>
	<script src="http://7xl0rs.com1.z0.glb.clouddn.com/backbone/underscore-min.js"></script>
	<script src="http://7xl0rs.com1.z0.glb.clouddn.com/backbone/backbone-min.js"></script>
	<script src="http://7xl0rs.com1.z0.glb.clouddn.com/backbone/backbone.localStorage-min.js"></script>
	<script>
	(function($){
		var Man = Backbone.Model.extend({
			url: '/man/',
			initialize: function(){
				alert('hello world!')
				this.bind("change:name",function(){
					var name = this.get("name")
					alert("name的属性变为" + name)
				})
				this.bind("error",function(model,error){
					alert(error)
				})
			},
			defaults: {
				name: "Tom",
				age: '38'
			},
			validate: function(values){
				if(values.name === ''){
					return 'name名字不能为空!'
				}
			},
			aboutMe: function(){
				return '我叫' + this.get('name') + ',年龄为' + this.get('age')
			}
		})

		var man = new Man()
		man.set({ name: 'liu' })
		man.save()

		var man1 = new Man()
		man1.fetch()

		man1.fetch({ url: '/man/' })
		man1.fetch({ url: '/man/',
			success: function(model,response){
				alert('success')
				alert(model.get('name'))
			},
			error: function(){
				alert('error')
			}
		})
	})(jQuery)
	</script>
</body>
</html>